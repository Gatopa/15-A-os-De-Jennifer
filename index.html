<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XV de Jennifer</title>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}

    body {
      font-family: 'Parisienne', cursive;
      background: url('FONDO.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      text-align: center;
      min-height: 100vh;
      overflow-x: hidden;
      overflow-y: auto;
      position: relative;
    }

    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      /* centrado visual sin cortar abajo */
      padding-top: clamp(220px, 34vh, 360px);
      padding-bottom: clamp(60px, 10vh, 120px);
      z-index: 5;
      position: relative;
    }

    /* El H1 no debe verse (ya viene en el fondo) */
    h1 { display: none; }

    /* ‚ú® ‚ÄúFalta‚Ä¶‚Äù dorado brillante */
    h2 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
      background: linear-gradient(90deg, #ffd700, #fff8b0, #ffd700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(255, 223, 70, 0.8), 0 0 30px rgba(255, 255, 180, 0.4);
      font-weight: bold;
      letter-spacing: 1px;
    }

    .contador {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 1.2rem auto;
      background: rgba(0, 0, 0, 0.4);
      border-radius: 15px;
      padding: 10px 15px;
      width: fit-content;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }

    .contador .box {
      background: rgba(0, 0, 0, 0.55);
      border-radius: 10px;
      padding: 10px 14px;
      min-width: 60px;
    }

    .num {font-size: 1.4rem; color: #fff; font-weight: bold; display: block;}
    .lbl {font-size: 0.9rem; color: #ddd;}

    .btn {
      background: linear-gradient(145deg, #a2c8ff, #d1e6ff);
      border: none;
      color: #1a1a1a;
      font-weight: 600;
      border-radius: 30px;
      padding: 10px 18px;
      cursor: pointer;
      font-size: 1rem;
      box-shadow: 0 4px 10px rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      margin: 8px;
      z-index: 5;
      position: relative;
    }
    .btn:hover {transform: scale(1.05); box-shadow: 0 0 20px rgba(255,255,255,0.5);}

    /* Estado confirmado del bot√≥n */
    .btn.ok{
      background: linear-gradient(145deg, #ffe08a, #ffd24d);
      color: #3a2b00;
      box-shadow: 0 0 20px rgba(255, 210, 77, 0.55), 0 0 8px rgba(255,255,255,0.35) inset;
    }

    .music-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(255,255,255,0.15);
      border: none;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      font-size: 26px;
      color: #fff;
      backdrop-filter: blur(4px);
      cursor: pointer;
      box-shadow: 0 0 10px rgba(255,255,255,0.4);
      transition: 0.3s;
      z-index: 5;
    }
    .music-btn:hover {transform: scale(1.1); background: rgba(255,255,255,0.25);}

    /* Capas para estrellas y hojas (seguimos igual) */
    .sky, .leaves {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }

    .star {
      position: absolute;
      width: 14px;
      height: 14px;
      background: url('star.png') no-repeat center/contain;
      opacity: 0.9;
      animation: starFall linear infinite;
    }
    @keyframes starFall {
      0%   { transform: translateY(-10%) translateX(0)    scale(1);   opacity: 0.8; }
      50%  { transform: translateY(50vh)  translateX(15px) scale(0.8); opacity: 1;   }
      100% { transform: translateY(110vh) translateX(-10px) scale(0.6); opacity: 0; }
    }

    .leaf {
      position: absolute;
      width: 24px;
      height: 24px;
      background: url('leaf.png') no-repeat center/contain;
      opacity: 0.85;
      animation: leafFall linear infinite;
    }
    @keyframes leafFall {
      0%   { transform: translateY(-10%) rotate(0deg)   scale(1);   opacity: 0.9; }
      50%  { transform: translateY(50vh) rotate(120deg) scale(1.1); opacity: 1;   }
      100% { transform: translateY(110vh) rotate(240deg) scale(1);  opacity: 0;   }
    }

    /* üì± Ajuste fino m√≥vil */
    @media (max-width: 600px) {
      h2 { font-size: 1.4rem; }
      .contador { flex-wrap: wrap; gap: 8px; }
      .btn { font-size: 0.9rem; padding: 8px 12px; }
      .music-btn { width: 48px; height: 48px; font-size: 22px; }
      main { padding-top: clamp(240px, 38vh, 400px); }
    }
  </style>
</head>
<body>
  <div class="sky"></div>
  <div class="leaves"></div>

  <main>
    <h1>XV de Jennifer</h1><!-- oculto por CSS -->
    <h2>Falta...</h2>

    <div class="contador">
      <div class="box"><span id="d" class="num">00</span><div class="lbl">D√≠as</div></div>
      <div class="box"><span id="h" class="num">00</span><div class="lbl">Horas</div></div>
      <div class="box"><span id="m" class="num">00</span><div class="lbl">Min</div></div>
      <div class="box"><span id="s" class="num">00</span><div class="lbl">Seg</div></div>
    </div>

    <button id="asistencia" class="btn">üíå Confirmar asistencia</button>
    <a id="map-btn" class="btn" href="https://maps.app.goo.gl/XhqVs9MYNtdwt9vo9" target="_blank">üìç Ver ubicaci√≥n</a>
  </main>

  <button id="music-btn" class="music-btn" aria-label="Reproducir o pausar m√∫sica">üéµ</button>
  <audio id="music" loop>
    <source src="musica.mp3" type="audio/mpeg">
  </audio>

  <script>
    // üéµ M√∫sica
    const music = document.getElementById("music");
    const musicBtn = document.getElementById("music-btn");
    musicBtn.addEventListener("click", () => {
      if (music.paused) {
        music.play();
        musicBtn.textContent = "‚è∏Ô∏è";
      } else {
        music.pause();
        musicBtn.textContent = "üéµ";
      }
    });

    // üíå Confirmar asistencia (texto cambia en el mismo bot√≥n)
    const btnAsistencia = document.getElementById("asistencia");
    let confirmado = false;
    // Guardamos el ancho para evitar salto visual al cambiar el texto
    const anchoInicial = btnAsistencia.offsetWidth;
    btnAsistencia.style.minWidth = anchoInicial + "px";

    btnAsistencia.addEventListener("click", () => {
      if (confirmado) return;              // no repetir
      confirmado = true;
      btnAsistencia.textContent = "üíñ ¬°Has confirmado tu asistencia!";
      btnAsistencia.classList.add("ok");
      btnAsistencia.setAttribute("aria-pressed", "true");
    });

    // üïê Contador
    const EVENT_ISO = "2025-10-24T20:00:00-05:00";
    const target = new Date(EVENT_ISO).getTime();
    const d = document.getElementById('d');
    const h = document.getElementById('h');
    const m = document.getElementById('m');
    const s = document.getElementById('s');

    function tick() {
      const now = Date.now();
      let diff = Math.max(0, target - now);
      const days = Math.floor(diff / 86400000); diff -= days * 86400000;
      const hrs  = Math.floor(diff / 3600000);  diff -= hrs * 3600000;
      const mins = Math.floor(diff / 60000);    diff -= mins * 60000;
      const secs = Math.floor(diff / 1000);
      d.textContent = String(days).padStart(2, '0');
      h.textContent = String(hrs).padStart(2, '0');
      m.textContent = String(mins).padStart(2, '0');
      s.textContent = String(secs).padStart(2, '0');
    }
    setInterval(tick, 1000);
    tick();

    // üåü Estrellas y üçÉ hojas (igual que antes; luego haremos tu animaci√≥n especial)
    const sky = document.querySelector('.sky');
    const leaves = document.querySelector('.leaves');

    for (let i = 0; i < 25; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      star.style.left = Math.random() * 100 + '%';
      star.style.animationDuration = (4 + Math.random() * 6) + 's';
      star.style.animationDelay = (Math.random() * 5) + 's';
      sky.appendChild(star);
    }

    for (let i = 0; i < 10; i++) {
      const leaf = document.createElement('div');
      leaf.classList.add('leaf');
      leaf.style.left = Math.random() * 100 + '%';
      leaf.style.animationDuration = (8 + Math.random() * 5) + 's';
      leaf.style.animationDelay = (Math.random() * 6) + 's';
      leaves.appendChild(leaf);
    }
  </script>
</body>
</html>
