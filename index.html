<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XV de Jennifer â€“ Cenicienta</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Capa de elementos que caen (hojas/estrellas) -->
  <div class="sky">
    <!-- 24 partÃ­culas (12 hojas + 12 estrellas). Si no tienes star.png, solo verÃ¡s hojas -->
    <!-- Hojas -->
    <span class="leaf"></span><span class="leaf"></span><span class="leaf"></span><span class="leaf"></span><span class="leaf"></span><span class="leaf"></span>
    <span class="leaf"></span><span class="leaf"></span><span class="leaf"></span><span class="leaf"></span><span class="leaf"></span><span class="leaf"></span>
    <!-- Estrellas (opcionales) -->
    <span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span>
    <span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span><span class="star"></span>
  </div>

  <main>
    <h1>XV de Jennifer âœ¨</h1>
    <div class="solo-faltan">Falta...</div>

    <!-- Marco floral alrededor del bloque -->
    <section class="frame">

      <!-- DecoraciÃ³n superior -->
      <img class="decor-top" src="decor_top.png" alt="decoraciÃ³n superior">

      <!-- Contador dentro del marco -->
      <div class="magic-box">
        <div class="countdown">
          <div class="box"><span class="num" id="d">0</span><div class="lbl">DÃ­as</div></div>
          <div class="box"><span class="num" id="h">00</span><div class="lbl">Horas</div></div>
          <div class="box"><span class="num" id="m">00</span><div class="lbl">Min</div></div>
          <div class="box"><span class="num" id="s">00</span><div class="lbl">Seg</div></div>
        </div>
      </div>

      <!-- Botones dentro del mismo marco -->
      <div class="magic-box btn-area">
        <button id="asistencia" class="btn">ğŸ’Œ Confirmar asistencia</button>
        <a id="map-btn" class="btn" href="https://maps.app.goo.gl/XhqVs9MYNtdwt9vo9" target="_blank">ğŸ“ Ver ubicaciÃ³n</a>
        <p id="mensaje" class="msg"></p>
      </div>

      <!-- DecoraciÃ³n inferior -->
      <img class="decor-bottom" src="decor_bottom.png" alt="decoraciÃ³n inferior">

      <!-- Ramas laterales (usamos el mismo PNG a ambos lados) -->
      <div class="decor-sides"></div>

    </section>
  </main>

  <!-- BotÃ³n MÃºsica -->
  <button id="music-btn" aria-label="Reproducir o pausar mÃºsica">ğŸµ</button>
  <audio id="music" loop>
    <source src="musica.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ====== FECHA DEL EVENTO ======
    const EVENT_ISO = "2025-10-24T20:00:00-05:00";
    const target = new Date(EVENT_ISO).getTime();

    const dEl = document.getElementById('d');
    const hEl = document.getElementById('h');
    const mEl = document.getElementById('m');
    const sEl = document.getElementById('s');
    const pad = n => String(n).padStart(2,'0');

    function tick(){
      const now = Date.now();
      let diff = Math.max(0, target - now);
      const days = Math.floor(diff/86400000); diff -= days*86400000;
      const hrs  = Math.floor(diff/3600000);  diff -= hrs*3600000;
      const mins = Math.floor(diff/60000);    diff -= mins*60000;
      const secs = Math.floor(diff/1000);
      dEl.textContent = days;
      hEl.textContent = pad(hrs);
      mEl.textContent = pad(mins);
      sEl.textContent = pad(secs);
      requestAnimationFrame(tick);
    }
    tick();

    // ====== MÃšSICA ======
    const musicBtn = document.getElementById('music-btn');
    const audio = document.getElementById('music');
    let playing = false;
    musicBtn.addEventListener('click', ()=>{
      if(!playing){ audio.play(); musicBtn.textContent='â¸ï¸'; }
      else{ audio.pause(); musicBtn.textContent='ğŸµ'; }
      playing = !playing;
    });

    // ====== CONFIRMAR ASISTENCIA ======
    const btnAsis = document.getElementById("asistencia");
    const msg = document.getElementById("mensaje");
    btnAsis.addEventListener("click", ()=>{
      btnAsis.disabled = true;
      btnAsis.textContent = "ğŸ’– Asistencia confirmada";
      msg.textContent = "âœ… Â¡Has confirmado tu asistencia!";
      btnAsis.style.opacity = "0.85";
    });
  </script>
</body>
</html>
